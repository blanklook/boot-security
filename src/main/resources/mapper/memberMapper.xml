<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.domain.MemberMapper">
<select id="getTime" resultType="String">
	SELECT now()
</select>
<select id="findAll" resultType="com.example.domain.Member">
	SELECT  
		 id as id
		,home_city as homeCity
		,home_street as homeStreet
		,home_zipcode as homeZipCode
		,name as name
		,e_date as eDate
		,s_date as sDate
		,team_id as teamId
	FROM 
		Members
</select>
<select id="statistics" resultType="com.example.domain.MemberStatistics">
	SELECT
		team_id as teamID
		,
		CASE 
			WHEN team_id = 1 THEN 'TEAM A'
			WHEN team_id = 2 THEN 'TEAM B'
			ELSE NULL
		END	as teamName
		,count(team_id) as count
	FROM
		Members m
	GROUP BY m.team_id
</select>
<insert id="insert">
	INSERT
	INTO 
	Members
		(home_city, home_street, home_zipcode, name, e_date, s_date, team_id)
	VALUES 
		(#{homeStreet},#{homeStreet},#{homeZipCode},#{name},#{eDate},#{sDate},#{teamId})
</insert>
<delete id="delete">
	DELETE
	FROM
	Members
	Where id = #{id}
</delete>
</mapper>